# 1. 기본 수행

특정 IP로 PING 30초 당 3번씩 보내기.

## 1-1. PING 요청 후 정상적으로 응답이 오지 않으면

"서버와의 연결이 끊어졌습니다. 서버상태를 확인해주세요."라는 말을 콜백이 오거나 GPIO 0에 입력이 있을 때까지 계속 1분에 1번씩 연결된 스피커로 출력되게 만들고 Telegram 봇으로 "서버와의 연결이 끊어졌습니다. 서버 상태를 확인해주세요.\n서버명: Proxmox"라는 텍스트와 '전력복구 및 서버 재시작' 버튼과 '정상 종료' 버튼을 보내기.

### 1-1-1. '전력 복구 및 서버 재시작' 콜백이 오면

"원격 제어가 승인되었습니다. 전력 시스템 복구를 진행하고 서버를 재시작 합니다." 라는 말을 스피커로 출력하고 블루투스로 누전 차단기에 있는 센서로 신호보내고 10초 정도 대기하다가 GPIO 특정 핀으로 신호 출력해서 서버 전원 키기.

### 1-1-2. '정상 종료' 콜백이 오면

"정상 종료가 확인되었습니다. 경보시스템을 종료합니다." 라는 말을 스피커로 출력하고 특정 IP로 PING을 3번이상 받을때까지 순차적으로 보내고 PING을 받으면 "서버와 연결되었습니다. 전력복구장치 작동을 재개합니다." 라는 말을 스피커로 출력하면서 '1.기본 수행' 단계로 되돌아가기.

### 1-2-1. GPIO 0에서 신호가 2초 이하 들어오면

"전력 시스템 복구를 진행하고 서버를 재시작 합니다." 라는 말을 스피커로 출력하고 블루투스로 누전 차단기에 있는 센서로 신호보내고 10초 정도 대기하다가 GPIO 특정 핀으로 신호 출력해서 서버 전원 키기.

### 1-2-2. GPIO 0에서 신호가 5초 이상 들어오면

"정상 종료가 확인되었습니다. 경보시스템을 종료합니다." 라는 말을 스피커로 출력하고 특정 IP로 PING을 3번이상 받을때까지 순차적으로 보내고 PING을 받으면 "서버와 연결되었습니다. 전력복구장치 작동을 재개합니다." 라는 말을 스피커로 출력하면서 '1.기본 수행' 단계로 되돌아가기.
